/* ===== SMARTFORM PANEL ===== */

/*
 * Main SmartForm panel layout styles.
 * Section-specific styles are co-located in Sections/*.css
 *
 * Layout uses CSS Grid for the header to eliminate wrapper divs.
 */

.smartform-panel {
  display: flex;
  flex-direction: column;
  align-items: stretch;
  justify-content: flex-start;
  gap: 0;
  padding: var(--space-xs) var(--space-xs);
}

/* ==============================================
   Header Row - CSS Grid Layout
   ============================================== */

/*
 * Before query: Single centered button
 * After query: 3-column grid (left | center | right)
 */

.sf-header-row {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-xs) 0;
}

/* Queried state: Switch to 3-column grid */
.sf-header-row--queried {
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: 1rem;
}

/* Grid placement classes for child components */
.sf-grid-left {
  grid-column: 1;
  justify-self: start;
}

.sf-grid-center {
  grid-column: 2;
  justify-self: center;
}

.sf-grid-right {
  grid-column: 3;
  justify-self: end;
}

/* ==============================================
   Content Area
   ============================================== */

.sf-content {
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* Ensure smooth height transitions for collapsible sections */
.smartform-panel > div:not(.sf-header-row) {
  overflow: hidden;
}

/* ==============================================
   Responsive: Stack on narrow screens
   ============================================== */

@media (max-width: 830px) {
  .sf-header-row {
    flex-direction: column;
    align-items: center;
  }

  /* Switch grid to stacked layout */
  .sf-header-row--queried {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.75rem;
  }

  /* Reorder: Query button, Total, SubTabs */
  .sf-grid-left {
    order: 1;
  }

  .sf-grid-right {
    order: 2;
  }

  .sf-grid-center {
    order: 3;
  }
}

/* Panel scrollable area for table content */
@media (max-height: 700px) {
  .smartform-panel {
    max-height: calc(100vh - 200px);
    overflow-y: auto;
  }
}
